<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Procurement & Inbound - Electronics Distribution</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>Electronics Distribution Process</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="procurement.html">Procurement</a>
            <!-- Placeholders for future pages -->
            <a href="#">Inventory</a>
            <a href="#">Sales</a>
            <a href="#">Finance</a>
        </nav>
    </header>

    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Master Map</a>
        
        <div class="diagram-card">
            <h2>Level 1: Procurement & Inbound (The Buy Side)</h2>
            <p>This workflow details the Purchase-to-Pay (P2P) cycle and the critical inbound logic for serial tracking.</p>
            
            <div class="mermaid">
            graph TD
                %% Define Colors
                classDef commercial fill:#fff3e0,stroke:#e65100,stroke-width:2px;
                classDef warehouse fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
                classDef finance fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px;
                classDef system fill:#f3e5f5,stroke:#4a148c,stroke-width:2px;

                %% SWIMLANE: COMMERCIAL (Procurement)
                subgraph Commercial_Team ["COMMERCIAL: Procurement Team"]
                    StartNode((Start)) --> ID_NEED[Identify Stock Need]
                    ID_NEED --> VENDOR[Select Vendor & Price]
                    VENDOR --> PO_GEN[Generate PO]
                    PO_GEN --> PO_SEND[Send PO to Vendor]
                end

                %% SWIMLANE: WAREHOUSE (Inbound)
                subgraph Warehouse_Team ["WAREHOUSE: Inbound Team"]
                    TRUCK[Truck Arrives] --> UNLOAD[Unload & Count]
                    UNLOAD --> DMG_CHK{Damage Check?}
                    DMG_CHK -- Yes --> REJECT[Reject/Quarantine]
                    DMG_CHK -- No --> SCAN[Scan Serials]
                    SCAN --> GRN[Generate GRN]
                    GRN --> PUTAWAY[Putaway to Bin]
                end

                %% SWIMLANE: FINANCE (Accounts Payable)
                subgraph Finance_Team ["FINANCE: Accounts Payable"]
                    INV_RX[Receive Invoice] --> MATCH{3-Way Match?}
                    MATCH -- Match OK --> POST[Post to GL]
                    POST --> PAY[Schedule Payment]
                    MATCH -- Mismatch --> DISPUTE[Raise Dispute]
                end

                %% CONNECTIONS
                PO_SEND -->|Vendor Ships| TRUCK
                GRN -->|Update Inventory| MIS[(MIS System)]
                GRN -->|Proof of Receipt| MATCH
                PO_GEN -->|Expected Cost| MATCH
                
                %% Styles
                class StartNode,ID_NEED,VENDOR,PO_GEN,PO_SEND commercial;
                class TRUCK,UNLOAD,DMG_CHK,REJECT,SCAN,GRN,PUTAWAY warehouse;
                class INV_RX,MATCH,POST,PAY,DISPUTE finance;
                class MIS system;
            </div>
        </div>
    </div>
</body>
</html>
